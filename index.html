<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <title>NowGG Cloud</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"> 
  <style>
    :root{--accent:#00ffcc;--accent-dark:#00ff66;--bg1:#1a2a6c;--bg2:#b21f1f;--bg3:#fdbb2d}
    *{box-sizing:border-box}
    body{margin:0;font-family:'Roboto',sans-serif;background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));background-size:300% 300%;animation:grad 12s ease infinite;color:#fff;height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden}
    @keyframes grad{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .card{width:340px;background:rgba(0,0,0,0.6);padding:28px;border-radius:16px;box-shadow:0 8px 40px rgba(0,0,0,0.6),0 0 30px rgba(0,0,0,0.2) inset;text-align:center}
    h1{margin:0 0 10px;font-size:20px;color:var(--accent);text-shadow:0 0 8px var(--accent)}
    input[type="password"]{width:100%;padding:12px;border-radius:10px;border:none;background:#111;color:#fff;outline:none;text-align:center;box-shadow:0 0 10px rgba(0,0,0,0.6) inset;margin-bottom:12px}
    .btn{width:100%;padding:12px;border-radius:10px;border:none;cursor:pointer;font-weight:700;margin-top:8px;transition:transform .18s,box-shadow .18s}
    .btn:active{transform:translateY(1px)}
    .confirm{background:linear-gradient(90deg,var(--accent),var(--accent-dark));color:#000}
    .getkey{background:linear-gradient(90deg,#ffcc00,#ff6600);color:#111}
    .msg{margin-top:12px;font-size:0.95rem;min-height:22px}
    .desktop{display:none;flex-direction:column;align-items:center;gap:18px;width:100%;height:100%;padding:20px}
    #keyTimer{font-size:1rem;padding:8px 14px;border-radius:10px;background:rgba(0,0,0,0.45)}
    #adminBadge{margin-top:10px;font-size:1rem;color:#ffcc00;text-shadow:0 0 10px #ffcc00;display:none}
    .icons{display:flex;gap:20px;justify-content:center;flex-wrap:wrap}
    .icon{width:100px;text-align:center;cursor:pointer}
    .icon img{width:80px;height:80px;transition:transform .25s}
    .icon:hover img{transform:scale(1.14)}
    #topbar{position:fixed;top:0;left:0;width:100%;height:44px;background:#000;display:none;align-items:center;justify-content:flex-end;padding-right:12px;z-index:50}
    #topbar button{background:#ff4d4d;border:none;color:#fff;padding:6px 10px;border-radius:8px;cursor:pointer}
    iframe{position:fixed;top:44px;left:0;width:100%;height:calc(100% - 44px);border:none;display:none;z-index:40}
    .snowflake{position:fixed;top:-10px;width:6px;height:6px;background:#fff;border-radius:50%;opacity:.85;pointer-events:none;animation:fall linear infinite}
    @keyframes fall{0%{transform:translateY(0)}100%{transform:translateY(110vh) translateX(50px)}}
    @media (max-width:420px){.card{width:92%}.icon{width:80px}.icon img{width:64px;height:64px}}
  </style>
</head>
<body>
  <!-- Login -->
  <div class="card" id="loginCard">
    <h1>üîê NowGG Cloud(cre:meolazy,ducknovis)</h1>
    <p style="margin:6px 0 16px;color:#ddd">Nh·∫≠p key ƒë·ªÉ truy c·∫≠p</p>
    <input id="keyInput" type="password" placeholder="Nh·∫≠p key..." autocomplete="off" />
    <button class="btn confirm" onclick="checkKey()">X√°c nh·∫≠n</button>
    <button class="btn getkey" onclick="copyKeyLink()">L·∫•y Key</button>
    <div class="msg" id="error"></div>
  </div>

  <!-- Desktop -->
  <div class="card desktop" id="desktop">
    <h1 style="font-size:18px;color:var(--accent)">NowGG Cloud ‚Äî Dashboard</h1>
    <div id="keyTimer">‚è≥ Key c√≤n l·∫°i: --:--:--</div>
    <div id="adminBadge">üîí Admin Mode</div>
    <div class="icons">
      <div class="icon" onclick="openApp()">
        <img src="https://cms-cdn.now.gg/cms-media/2022/12/nowgg-full-logo.png" alt="App">
        <div>Ko l·ªói app</div>
      </div>
      <div class="icon" onclick="copyGuideLink()">
        <img src="https://cdn-icons-png.flaticon.com/512/1828/1828859.png" alt="guide">
        <div>HDSD</div>
      </div>
      <div class="icon" onclick="openUpdate()">
        <img src="https://png.pngtree.com/png-clipart/20230508/original/pngtree-sticky-note-flat-icon-png-image_9150666.png" alt="update">
        <div>Update</div>
      </div>
      <div class="icon" onclick="openVIP()">
        <img src="https://cdn-icons-png.flaticon.com/512/6701/6701712.png" alt="vip">
        <div>VIP</div>
      </div>
      <div class="icon" onclick="logout()">
        <img src="https://cdn-icons-png.flaticon.com/512/1828/1828490.png" alt="logout">
        <div>ƒêƒÉng xu·∫•t</div>
      </div>
    </div>
  </div>

  <!-- App -->
  <div id="topbar"><button onclick="closeApp()">ƒê√≥ng</button></div>
  <iframe id="appFrame" src=""></iframe>

  <!-- Modal Update -->
  <div id="updateModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.7);z-index:100;align-items:center;justify-content:center;">
    <div style="background:#222;padding:20px;border-radius:14px;max-width:360px;width:90%;color:#fff;box-shadow:0 6px 24px rgba(0,0,0,0.6);">
      <h2 style="margin-top:0;color:#00ffcc;text-align:center;">üì¢ C·∫≠p nh·∫≠t m·ªõi</h2>
      <ul style="text-align:left;line-height:1.6;">
        <li>‚ö° T·ªëi ∆∞u hi·ªáu nƒÉng khi ch·∫°y app.</li>
        <li>üé® Th√™m giao di·ªán n·ªÅn ƒë·ªông m·ªõi.</li>
        <li>üîí C·∫£i thi·ªán b·∫£o m·∫≠t key.</li>
      </ul>
      <button onclick="closeUpdate()" style="margin-top:12px;width:100%;padding:10px;border:none;border-radius:10px;background:#00ffcc;color:#000;font-weight:bold;cursor:pointer;">
        ƒê√≥ng
      </button>
    </div>
  </div>

<script>
(function(){
  const _0xA1="ilovead"; // key admin
  const _0xA2=48*60*60*1000; // 2 ng√†y
  let _0xA3=null;

  // Redirect sang link4m m·ªõi
  window.copyKeyLink=function(){
    localStorage.setItem("visitedLink","true");
    window.location.href="https://link4m.com/qIzP1";
  };

  window.checkKey=function(){
    let i=document.getElementById("keyInput").value.trim();
    let k=localStorage.getItem("myKey");
    let t=localStorage.getItem("myKeyTime");
    let e=document.getElementById("error");
    let n=Date.now();

    if(i===_0xA1){
      localStorage.setItem("isLoggedIn","true");
      localStorage.setItem("isAdmin","true");
      document.getElementById("loginCard").style.display="none";
      document.getElementById("desktop").style.display="flex";
      document.getElementById("adminBadge").style.display="block";
      e.textContent="‚úÖ ƒêƒÉng nh·∫≠p admin th√†nh c√¥ng!";
      return;
    }

    if(!k||!t){
      e.textContent="‚ùå B·∫°n ch∆∞a c√≥ key. H√£y l·∫•y key t·ª´ Link4m.";
      return;
    }
    if(n-parseInt(t)>_0xA2){
      e.textContent="‚è≥ Key ƒë√£ h·∫øt h·∫°n. Vui l√≤ng l·∫•y key m·ªõi.";
      localStorage.clear();return;
    }
    if(i===k){
      localStorage.setItem("isLoggedIn","true");
      localStorage.removeItem("isAdmin");
      document.getElementById("loginCard").style.display="none";
      document.getElementById("desktop").style.display="flex";
      _0xA4(parseInt(t));
    }else{
      e.textContent="‚ùå Key sai!";
    }
  };

  function _0xA4(t){
    clearInterval(_0xA3);
    _0xA3=setInterval(()=>{
      let n=Date.now();
      let r=_0xA2-(n-t);
      if(r<=0){
        document.getElementById("keyTimer").textContent="‚è≥ Key ƒë√£ h·∫øt h·∫°n";
        window.logout();
      }else{
        let h=String(Math.floor(r/3600000)).padStart(2,"0");
        let m=String(Math.floor((r%3600000)/60000)).padStart(2,"0");
        let s=String(Math.floor((r%60000)/1000)).padStart(2,"0");
        document.getElementById("keyTimer").textContent=`‚è≥ Key c√≤n l·∫°i: ${h}:${m}:${s}`;
      }
    },1000);
  }

  window.logout=function(){
    localStorage.removeItem("isLoggedIn");
    localStorage.removeItem("isAdmin");
    document.getElementById("desktop").style.display="none";
    document.getElementById("loginCard").style.display="block";
    clearInterval(_0xA3);
  };

  // ‚úÖ iframe uProxy
  window.openApp=function(){
    const f=document.getElementById("appFrame");
    f.src="https://uproxy.online/ultraviolet/hvtrs8%2F-nmw%2Cge%2Fcprs-cnuqtgr%2Filc-9355%2Falwsvep.jtol";
    f.style.display="block";
    document.getElementById("topbar").style.display="flex";
  };

  window.closeApp=function(){
    const f=document.getElementById("appFrame");
    f.src="";
    f.style.display="none";
    document.getElementById("topbar").style.display="none";
  };

  window.copyGuideLink=function(){
    const yt="https://www.youtube.com/watch?v=ZL2YvVOToBw";
    navigator.clipboard.writeText(yt).then(()=>{alert("üìã Link h∆∞·ªõng d·∫´n ƒë√£ ƒë∆∞·ª£c copy!");});
  };

  window.openUpdate=function(){document.getElementById("updateModal").style.display="flex";}
  window.closeUpdate=function(){document.getElementById("updateModal").style.display="none";}

  window.openVIP=function(){alert("üöß VIP ƒëang ph√°t tri·ªÉn");}

  // Khi load trang, check n·∫øu v·ª´a v∆∞·ª£t link4m v·ªÅ
  window.onload=()=>{
    const params=new URLSearchParams(window.location.search);
    const code=params.get("code");
    const visited=localStorage.getItem("visitedLink");
    const k=localStorage.getItem("myKey");
    const t=localStorage.getItem("myKeyTime");
    const l=localStorage.getItem("isLoggedIn");
    const a=localStorage.getItem("isAdmin");
    const n=Date.now();

    if(code && visited==="true"){
      localStorage.removeItem("visitedLink");
      // gi·∫£ l·∫≠p set key sau khi v∆∞·ª£t link
      localStorage.setItem("myKey","demoKey");
      localStorage.setItem("myKeyTime",Date.now().toString());
      localStorage.setItem("isLoggedIn","true");
      document.getElementById("loginCard").style.display="none";
      document.getElementById("desktop").style.display="flex";
      _0xA4(Date.now());
      window.history.replaceState({},document.title,window.location.pathname);
      return;
    }

    if(a==="true"&&l==="true"){
      document.getElementById("loginCard").style.display="none";
      document.getElementById("desktop").style.display="flex";
      document.getElementById("adminBadge").style.display="block";
      return;
    }
    if(k&&t&&l==="true"){
      if(n-parseInt(t)<_0xA2){
        document.getElementById("loginCard").style.display="none";
        document.getElementById("desktop").style.display="flex";
        _0xA4(parseInt(t));
      }else{localStorage.clear();}
    }
    setInterval(()=>{
      const s=document.createElement("div");
      s.className="snowflake";
      s.style.left=Math.random()*window.innerWidth+"px";
      const z=2+Math.random()*6;
      s.style.width=s.style.height=z+"px";
      s.style.opacity=(0.3+Math.random()*0.7).toString();
      s.style.animationDuration=(2+Math.random()*4)+"s";
      document.body.appendChild(s);
      setTimeout(()=>s.remove(),7000);
    },200);
  };
})();
</script>
</body>
</html>
